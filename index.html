<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="referrer" content="no-referrer">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Rajdhani:wght@600&display=swap');

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: linear-gradient(135deg, #0f0f1a, #1a0033);
      color:#fff;
      font-family:'Rajdhani', sans-serif;
      min-height:100vh;
      overflow-x:hidden;
      -webkit-overflow-scrolling: touch;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      background: rgba(10,10,30,0.85);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0,255,255,0.3);
      gap: 12px;
      flex-wrap: wrap;
    }
    .header img {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 2px solid cyan;
      box-shadow: 0 0 12px rgba(0,255,255,0.6);
    }
    .title-container { text-align: center; }
    .header h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5em;
      color: cyan;
      text-shadow: 0 0 12px cyan;
      letter-spacing: 2px;
      margin: 0;
    }
    .subtitle {
      font-size: 0.75em;
      color: #00ffff99;
      margin-top: 2px;
    }
    .player-wrapper {
      position: relative;
      width: 100%;
      max-width: 100%;
      aspect-ratio: 16/9;
      margin: 12px auto;
      border-radius: 12px;
      overflow: hidden;
      background: #111;
      box-shadow: 0 0 30px rgba(0,255,255,0.4);
      border: 1.5px solid rgba(0,255,255,0.5);
    }
    iframe { width: 100%; height: 100%; border: none; }
    #channel-overlay {
      position: absolute;
      bottom: 10px;
      left: 10px;
      background: rgba(0,0,0,0.75);
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: bold;
      color: cyan;
      text-shadow: 0 0 8px cyan;
      display: none;
      z-index: 20;
      border: 1px solid rgba(0,255,255,0.4);
    }
    #search {
      display: block;
      width: 92%;
      max-width: 360px;
      margin: 12px auto 6px;
      padding: 12px;
      font-size: 16px;
      border: 2px solid cyan;
      border-radius: 50px;
      background: rgba(10,10,30,0.75);
      color: cyan;
      text-align: center;
      outline: none;
      box-shadow: 0 0 16px rgba(0,255,255,0.3);
    }
    #search:focus {
      box-shadow: 0 0 24px rgba(0,255,255,0.6);
      background: rgba(20,20,50,0.85);
    }
    .today-events {
      text-align: center;
      color: #00ffff;
      font-size: 1.25em;
      margin: 8px auto 12px;
      text-shadow: 0 0 8px cyan;
    }
    .channels {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      gap: 12px;
      padding: 10px;
      padding-bottom: 120px;
      max-width: 100%;
      margin: 0 auto;
    }
    .btn {
      background: linear-gradient(145deg, #1a1a2e, #0f0f1a);
      border: 1.5px solid rgba(0,255,255,0.4);
      border-radius: 14px;
      padding: 10px;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
      position: relative;
      aspect-ratio: 1 / 1.35;
    }
    .btn:hover {
      transform: scale(1.03);
      border-color: cyan;
      box-shadow: 0 0 25px rgba(0,255,255,0.5);
    }
    .btn img {
      width: 60px;
      height: 60px;
      object-fit: contain;
      border-radius: 50%;
      border: 2.5px solid cyan;
      box-shadow: 0 0 10px rgba(0,255,255,0.5);
      margin-bottom: 6px;
    }
    .btn span {
      font-size: 10.5px;
      font-weight: bold;
      color: cyan;
      text-shadow: 0 0 6px cyan;
      line-height: 1.15;
      word-break: break-word;
    }
    .btn.live::after {
      content: '';
      position: absolute;
      top: 4px;
      right: 4px;
      width: 12px;
      height: 12px;
      background: #ff0000;
      border-radius: 50%;
      box-shadow: 0 0 10px #ff0000;
      animation: pulse 1.5s infinite;
      border: 1.5px solid #fff;
    }
    @keyframes pulse { 0%,100% {transform: scale(1);} 50% {transform: scale(1.3);} }

    .btn.selected {
      border: 3px solid #00ffff !important;
      box-shadow: 0 0 30px #00ffff80, inset 0 0 15px #00ffff40;
      background: linear-gradient(145deg, #16213e, #1a0033);
      transform: scale(1.05);
      z-index: 5;
    }

    /* Destacar el canal 24/7 */
    .btn-247 {
      border: 2.5px solid #00ff41!important;
      background: linear-gradient(145deg, #001a0f, #002614) !important;
      box-shadow: 0 0 20px #00ff4180 !important;
      order: -1; /* Fuerza a que estÃ© primero en el grid */
    }
    .btn-247 span {
      color: #99ffbb !important;
      text-shadow: 0 0 10px #00ff41 !important;
    }

    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(10,10,30,0.9);
      backdrop-filter: blur(10px);
      color: cyan;
      text-align: center;
      padding: 8px;
      font-size: 12px;
      z-index: 100;
      border-top: 1px solid rgba(0,255,255,0.3);
      text-shadow: 0 0 6px cyan;
    }

    @media (max-width: 600px) {
      .channels { grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 10px; padding: 8px; }
      .btn { padding: 8px; aspect-ratio: 1/1.4; }
      .btn img { width: 52px; height: 52px; margin-bottom: 5px; }
      .btn span { font-size: 9.5px; }
      .player-wrapper { margin: 10px auto; max-height: 45vh; border-radius: 10px; }
      .header { padding: 8px 12px; gap: 8px; }
      .header h1 { font-size: 1.4em; }
      .today-events { font-size: 1.15em; margin: 6px auto 10px; }
      #search { margin: 10px auto 4px; padding: 10px; font-size: 15px; width: 94%; }
    }
    @media (orientation: landscape) and (max-height: 500px) {
      .player-wrapper { max-height: 70vh; }
      .channels { padding-bottom: 80px; }
    }
  </style>
</head>
<body>

<div class="header">
  <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg" alt="Logo">
  <div class="title-container">
    <h1>ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸</h1>
    <div class="subtitle">Si No Se Reproduce, Activa Un VPN-Android & Ios</div>
  </div>
</div>

<div class="player-wrapper">
  <iframe id="player" allowfullscreen="allowfullscreen" webkitallowfullscreen mozallowfullscreen playsinline webkit-playsinline allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"></iframe>
  <div id="channel-overlay"></div>
</div>

<input type="text" id="search" placeholder="Buscar canalâ€¦">
<div class="today-events">Cargando fecha...</div>

<div class="channels">

  <!-- CANAL 24/7 - Siempre primero y destacado -->
  <button class="btn btn-247" data-url="https://dlhd.link/embed/stream-757.php" data-time="">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>24/7 FIGHT-FIGHT *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸* CANAL SIEMPRE EN VIVO</span>
  </button>

  <!-- Resto de canales (se ordenan automÃ¡ticamente) -->
  <button class="btn" data-url="https://dlhd.link/embed/stream-68.php" data-time="16:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>16:00 H. â¡ï¸ BOXEO-1 *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Marco Huck ğŸ†š Vaclav Pejsar*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-69.php" data-time="18:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>18:00 H. â¡ï¸ BOXEO-2 *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Labinot Xhoxhaj ğŸ†š Pezhman Seifkhani*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-55.php" data-time="04:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>04:00 H. â¡ï¸ BOXEO-3 *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Yoali Mosqueda ğŸ†š Miguel Nieblas*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-76.php" data-time="13:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>13:00 H. â¡ï¸ RWS Muay Thai *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Super Lightweight Title : Dam ğŸ†š Rungkhao*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-77.php" data-time="21:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>21:00 H. â¡ï¸ Oktagon 84 *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Ronald Paradeiser ğŸ†š Kaik Brito*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-628.php" data-time="21:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>21:00 H. â¡ï¸ Oktagon 84 *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Ronald Paradeiser ğŸ†š Kaik Brito*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-375.php" data-time="03:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>03:00 H. â¡ï¸ ESPN KnockOut *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *ESPN KnockOut Live*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-168.php" data-time="18:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>18:00 H. â¡ï¸ College Wrestling *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Pennsylvania ğŸ†š Princeton*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-169.php" data-time="19:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>19:00 H. â¡ï¸ College Wrestling *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Binghamton ğŸ†š Cornell*</span>
  </button>

  <button class="btn" data-url="https://dlhd.link/embed/stream-338.php" data-time="02:00">
    <img src="https://i.postimg.cc/HWNY09cy/IMG_20250719_105732.jpg">
    <span>02:00 H. â¡ï¸ 
All Elite Wrestling AEW *ğŸ…±ï¸ğŸ…¾ï¸ğŸ†‡ï¸ğŸ…´ï¸ğŸ…¾ï¸ & ğŸ…¼ï¸ğŸ…°ï¸ğŸ†‚ï¸ 2ğŸ…¾ï¸26Â®ï¸ *Collision (AEW Grand Slam Australia)*</span>
  </button>

</div>

<footer>@By Tintxi-Â©2026</footer>

<script>
// Zona horaria EspaÃ±a
function getCurrentSpainTime() {
  return new Date(new Date().toLocaleString('en-US', { timeZone: 'Europe/Madrid' }));
}

function parseEventTime(timeStr) {
  const match = timeStr.match(/(\d{2}):(\d{2})/);
  if (!match) return null;
  return {
    hours: parseInt(match[1], 10),
    minutes: parseInt(match[2], 10)
  };
}

function getSortKey(timeStr) {
  if (!timeStr) return -1; // Canal 24/7 sin hora â†’ prioridad mÃ¡xima
  const t = parseEventTime(timeStr);
  if (!t) return 9999;
  let h = t.hours;
  if (h <= 4) h += 24;
  return h * 60 + t.minutes;
}

function sortChannels() {
  const container = document.querySelector('.channels');
  const buttons = Array.from(document.querySelectorAll('.channels .btn'));

  buttons.sort((a, b) => {
    const keyA = getSortKey(a.dataset.time);
    const keyB = getSortKey(b.dataset.time);
    return keyA - keyB;
  });

  // Reinsertar en orden (24/7 quedarÃ¡ primero por tener key -1)
  buttons.forEach(btn => container.appendChild(btn));
}

function getEventDateTime(now, eventHour, eventMinute) {
  let eventDate = new Date(now);
  eventDate.setHours(eventHour, eventMinute, 0, 0);
  eventDate.setSeconds(0, 0);

  const graceHours = 4;

  if (eventHour >= 20) {
    if (now.getHours() < graceHours) {
      eventDate.setDate(eventDate.getDate() -1);
    }
  }
  if (eventHour <= 3) {
    if (now.getHours() >= graceHours) {
      eventDate.setDate(eventDate.getDate() +1);
    }
  }

  return eventDate;
}

function isEventActiveOrPassed(now, eventHour, eventMinute) {
  // Para canal 24/7 sin hora â†’ siempre activo
  if (eventHour === undefined || eventMinute === undefined) return true;
  const eventDT = getEventDateTime(now, eventHour, eventMinute);
  return eventDT <= now;
}

function playChannel(btn) {
  const player = document.getElementById('player');
  const overlay = document.getElementById('channel-overlay');

  document.querySelectorAll('.btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');

  const url = btn.dataset.url;
  const timeStr = btn.dataset.time;
  const name = btn.querySelector('span').innerText.trim();

  player.src = '';
  player.removeAttribute('src');
  player.removeAttribute('srcdoc');
  try {
    player.contentWindow?.stop();
    player.contentWindow?.location.replace('about:blank');
  } catch (e) {}

  setTimeout(() => {
    const now = getCurrentSpainTime();
    const eventTime = parseEventTime(timeStr);

    if (isEventActiveOrPassed(now, eventTime?.hours, eventTime?.minutes)) {
      player.src = url;
      overlay.textContent = 'EstÃ¡s Viendo: ' + name;
      overlay.style.display = 'block';
      setTimeout(() => { overlay.style.display = 'none'; }, 15000);
    } else {
      player.srcdoc = `
        <html>
          <body style="margin:0;background:#000;color:#fff;height:100vh;display:flex;align-items:center;justify-content:center;font-family:sans-serif;text-align:center;padding:20px;">
            <div>
              <h2 style="color:#ff4444;font-size:1.7em;margin-bottom:20px;">EL EVENTO EMPEZARÃ A LAS</h2>
              <p style="font-size:2.2em;color:#00ffff;">${timeStr} H.</p>
            </div>
          </body>
        </html>`;
    }

    document.querySelector('.player-wrapper').scrollIntoView({behavior: 'smooth'});
  }, 200);
}

window.addEventListener('load', () => {
  const today = getCurrentSpainTime();
  const dd = String(today.getDate()).padStart(2, '0');
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const yy = String(today.getFullYear()).slice(-2);
  document.querySelector('.today-events').textContent = `Eventos de hoy, ${dd}/${mm}/${yy}`;

  // Ordenar canales (24/7 quedarÃ¡ primero)
  sortChannels();

  // Reproducir automÃ¡ticamente el primer canal (el 24/7)
  const firstBtn = document.querySelector('.channels .btn');
  if (firstBtn) {
    playChannel(firstBtn);
  }

  // Marcar live en los eventos con horario que ya hayan empezado
  document.querySelectorAll('.channels .btn').forEach(btn => {
    const timeStr = btn.dataset.time;
    if (timeStr) {
      const eventTime = parseEventTime(timeStr);
      if (eventTime) {
        const now = getCurrentSpainTime();
        if (isEventActiveOrPassed(now, eventTime.hours, eventTime.minutes)) {
          btn.classList.add('live');
        }
      }
    }
    btn.addEventListener('click', () => playChannel(btn));
  });
});

document.getElementById('search').addEventListener('keyup', function() {
  let filter = this.value.toLowerCase();
  document.querySelectorAll('.channels .btn').forEach(btn => {
    // El 24/7 siempre visible
    if (btn.classList.contains('btn-247')) {
      btn.style.display = 'flex';
      return;
    }
    let text = btn.querySelector('span').innerText.toLowerCase();
    btn.style.display = text.includes(filter) ? 'flex' : 'none';
  });
});
</script>

</body>
</html>
